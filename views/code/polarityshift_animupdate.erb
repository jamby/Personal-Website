<img class="displayed" src="../../../images/code_animupdate.png">
<p></p>
<p>Polarity Shift's Animation Engine's update would simply take the frames of each animation and change the frames based on the delta time and the specific frame's animation speed.</p>
<p>If the particular animation wasn't playing, it would just return from the Update since it wasn't needed to go through the entire Update function.</p>
<p>It would next check if the newly discovered Frame Timer (made from delta time and the specific frame's animation speed) is larger than the frame's time. It it was, it would go to the next frame.</p>
<p>We would need to know if the next frame is going over the actual amount of frames, and if it was looping. If it was looping and over the max number of frames, it would need to go back to the first frame.</p>
<p>Or if it wasn't looping, but the frame was over the max amount of frames, set the frame's playing boolean to false so it no longer would play.</p>
<p>At the very end, the frame timer would have to reset so the if statement checking the frame timer on the specific frame's time would not always be true.</p>
<pre>
void CAnimationEngine::Update(float fDelta)
{
	if(!m_bIsPlaying)
		return;

	m_fFrameTimer += fDelta*(float)m_dAnimationSpeed;
	if ( m_fFrameTimer > m_dFrameTime )
	{
		++m_nCurrentFrame;

		if ( m_bIsLooping && m_nCurrentFrame >= m_nNumFrames )
			m_nCurrentFrame = 0;
		else if ( m_nCurrentFrame >= m_nNumFrames)
		{
			m_nCurrentFrame = 0;
			m_bIsPlaying = false;
		}

		m_fFrameTimer = 0.0f;
	}
}
</pre>